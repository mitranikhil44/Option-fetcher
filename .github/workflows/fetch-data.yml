name: Fetch Market Data

on:
  schedule:
    # 03:46â€“03:59 UTC (09:16â€“09:29 IST), every minute
    - cron: '46-59 3 * * 1-5'
    # 04:00â€“09:59 UTC (10:00â€“15:29 IST), every minute
    - cron: '* 4-9 * * 1-5'
    # 10:00 UTC (15:30 IST), once
    - cron: '0 10 * * 1-5'
  workflow_dispatch:

jobs:
  fetch-data:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Market Price API
        run: |
          echo "ðŸ‘‰ Hitting Market Prices API"
          curl -v https://optionflow.vercel.app/api/fetching_data/market_prices

      - name: Trigger Option Chain API
        run: |
          echo "ðŸ‘‰ Hitting Option Chains API"
          curl -v https://optionflow.vercel.app/api/fetching_data/option_chains
